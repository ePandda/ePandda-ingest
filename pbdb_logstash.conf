input {
	stdin {
		"type" => "csv"
	}
}
filter {
	csv {
		columns => ["abund_in_sediment", "abund_unit", "abund_value", "accepted_attr", "accepted_name", "accepted_no", "accepted_rank", "architecture", "articulated_parts", "artifacts", "assembl_comps", "associated_parts", "bioerosion", "cc1", "cc2", "class", "collection_aka", "collection_comments", "collection_coverage", "collection_dates", "collection_methods", "collection_name", "collection_no", "collection_size", "collection_subset", "collection_type", "collectors", "common_body_parts", "component_comments", "composition", "concentration", "county", "diet", "difference", "early_interval", "encrustation", "environment", "environment_basis", "family", "feed_pred_traces", "flags", "formation", "fossilsfrom1", "fossilsfrom2", "fragmentation", "genus", "geogcomments", "geogscale", "geology_comments", "geoplate", "identified_name", "identified_no", "identified_rank", "lagerstatten", "lat", "late_interval", "latlng_basis", "latlng_precision", "life_habit", "lithadj1", "lithadj2", "lithdescript", "lithification1", "lithification2", "lithology1", "lithology2", "lng", "localbed", "localorder", "localsection", "max_ma", "member", "min_ma", "minor_lithology1", "minor_lithology2", "motility", "museum", "occurrence_no", "ontogeny", "order", "orientation", "paleolat", "paleolng", "paleomodel", "phylum", "plant_organ", "plant_organ2", "pres_mode", "preservation_comments", "preservation_quality", "protected", "rare_body_parts", "record_type", "ref_author", "ref_pubyr", "reference_no", "regionalbed", "regionalorder", "regionalsection", "reid_no", "reinforcement", "reproduction", "rock_censused", "sorting", "spatial_resolution", "state", "stratcomments", "stratgroup", "stratscale", "taxon_environment", "taxonomy_comments", "tectonic_setting", "temporal_resolution", "thickness", "vision", "zone", "coll_refs-paleolat", "coll_refs-localsection ", "coll_refs-lithadj1", "coll_refs-lithadj2 ", "coll_refs-record_type", "coll_refs-lithology2", "coll_refs-lithology1", "coll_refs-spatial_resolution", "coll_refs-collection_subset", "coll_refs-zone", "coll_refs-environment", "coll_refs-late_interval", "coll_refs-stratcomments", "coll_refs-collection_dates", "coll_refs-regionalsection", "coll_refs-associated_parts", "coll_refs-sorting", "coll_refs-abund_in_sediment", "coll_refs-min_ma", "coll_refs-ref_author", "coll_refs-localorder", "coll_refs-collectors", "coll_refs-latlng_precision", "coll_refs-lng", "coll_refs-lithification2", "coll_refs-lithification1", "coll_refs-rare_body_parts", "coll_refs-regionalorder", "coll_refs-lithdescript", "coll_refs-state", "coll_refs-articulated_parts", "coll_refs-assembl_comps", "coll_refs-geogcomments", "coll_refs-localbed", "coll_refs-minor_lithology2", "coll_refs-minor_lithology1", "coll_refs-collection_name", "coll_refs-n_occs", "coll_refs-orientation", "coll_refs-reference_no", "coll_refs-county", "coll_refs-taxonomy_comments", "coll_refs-latlng_basis", "coll_refs-collection_methods", "coll_refs-feed_pred_traces", "coll_refs-component_comments", "coll_refs-artifacts", "coll_refs-museum", "coll_refs-stratgroup", "coll_refs-geogscale", "coll_refs-collection_coverage", "coll_refs-lagerstatten", "coll_refs-geoplate", "coll_refs-fragmentation", "coll_refs-common_body_parts", "coll_refs-protected", "coll_refs-pres_mode", "coll_refs-paleolng", "coll_refs-preservation_quality", "coll_refs-geology_comments", "coll_refs-rock_censused", "coll_refs-bioerosion", "coll_refs-collection_type", "coll_refs-tectonic_setting", "coll_refs-temporal_resolution", "coll_refs-encrustation", "coll_refs-stratscale", "coll_refs-preservation_comments", "coll_refs-paleomodel", "coll_refs-cc1", "coll_refs-concentration", "coll_refs-cc2", "coll_refs-member", "coll_refs-collection_size", "coll_refs-regionalbed", "coll_refs-collection_aka", "coll_refs-collection_comments", "coll_refs-fossilsfrom1", "coll_refs-early_interval", "coll_refs-fossilsfrom2", "coll_refs-lat", "coll_refs-collection_no", "coll_refs-formation1", "coll_refs-max_ma", "coll_refs-formation2", "coll_refs-ref_pubyr", "occ_refs-publication_type", "occ_refs-doi", "occ_refs-author2init", "occ_refs-author1last", "occ_refs-language", "occ_refs-pubno", "occ_refs-author2last", "occ_refs-reference_no", "occ_refs-formatted", "occ_refs-firstpage", "occ_refs-author1init", "occ_refs-record_type", "occ_refs-pubtitle", "occ_refs-reftitle", "occ_refs-editors", "occ_refs-pubyr", "occ_refs-ref_type", "occ_refs-lastpage", "occ_refs-otherauthors", "occ_refs-pubvol", "geoPoint", "paleoGeoPoint"]
	}
}
output {
	elasticsearch {
		id => "pbdb_ingest"
		hosts => "http://whirl.mine.nu:9200"
		index => "pbdb2"
		document_type => "pbdb"
		document_id => "%{occurrence_no}"
		doc_as_upsert => true
	}
}
